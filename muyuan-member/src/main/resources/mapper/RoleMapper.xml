<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.muyuan.common.member.infrastructure.persistence.dao.RoleMapper">


    <select id="selectRoleByUserId" resultType="com.muyuan.common.member.domain.model.Role">
        select role.* from (
                               select * from t_role where state = 0
                           ) role
                               inner join (
            select * from t_user_role where user_id = #{userId}
        ) user_role on user_role.role_id = role.id
    </select>
</mapper>